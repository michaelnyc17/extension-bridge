let StringSimilarity={normalize(e){return e?(e="string"!=typeof e?String(e):e).toLowerCase().trim().replace(/[^\w\s]/g,"").replace(/\s+/g," "):""},levenshteinDistance(e,t){var r=this.normalize(e),n=this.normalize(t);if(r===n)return 0;if(0===r.length)return n.length;if(0===n.length)return r.length;var i=[];for(let e=0;e<=n.length;e++)i[e]=[e];for(let e=0;e<=r.length;e++)i[0][e]=e;for(let t=1;t<=n.length;t++)for(let e=1;e<=r.length;e++)n.charAt(t-1)===r.charAt(e-1)?i[t][e]=i[t-1][e-1]:i[t][e]=Math.min(i[t-1][e-1]+1,i[t][e-1]+1,i[t-1][e]+1);return i[n.length][r.length]},getSimilarityScore(e,t){var r=this.normalize(e),n=this.normalize(t);return r===n?100:r&&n?(e=this.levenshteinDistance(e,t),t=Math.max(r.length,n.length),Math.max(0,Math.min(100,(t-e)/t*100))):0},extractDomain(e){if(!e)return"";try{return new URL(e).hostname.replace(/^www\./,"")}catch(e){return""}},compareUrls(e,t){var r,n;return e&&t?e.toLowerCase().trim()===t.toLowerCase().trim()?100:(n=this.extractDomain(e),r=this.extractDomain(t),n&&r&&n===r?n.includes("github.com")&&(r=new URL(e).pathname.split("/").filter(e=>e),n=new URL(t).pathname.split("/").filter(e=>e),2<=r.length)&&2<=n.length&&r[0]===n[0]&&r[1]===n[1]?100:90:0):0},extractKeywords(e){if(!e)return[];let t=new Set(["the","a","an","and","or","but","in","on","at","to","for","of","with","by","from","as","is","was","are","were","been","be","have","has","had","do","does","did","will","would","could","should","may","might","can","this","that","these","those","extension","addon","plugin","browser","chrome","firefox"]);return this.normalize(e).split(/\s+/).filter(e=>2<e.length&&!t.has(e))},jaccardSimilarity(e,t){if(0===e.length&&0===t.length)return 0;if(0===e.length||0===t.length)return 0;e=new Set(e);let r=new Set(t);t=new Set([...e].filter(e=>r.has(e))),e=new Set([...e,...r]);return t.size/e.size*100},compareDescriptions(e,t){e=this.extractKeywords(e),t=this.extractKeywords(t);return this.jaccardSimilarity(e,t)}};